# 介绍
图像格式是计算机存储图片的格式

# 分类
## 常见图片格式对比

| 特性   | JPEG                   | PNG                          | GIF                      | TIFF                      |
| ---- | ---------------------- | ---------------------------- | ------------------------ | ------------------------- |
| 中文全名 | 联合图像专家组                | 便携式网络图形                      | 图形交换格式                   | 标记图像文件格式                  |
| 压缩类型 | 有损压缩                   | 无损压缩                         | 无损压缩（索引色）                | 通常为无损压缩，也可有损              |
| 颜色深度 | 24位（约1677万色）           | 最高48位（真彩色+透明通道）              | 8位（最多256色）               | 非常高（最高64位）                |
| 透明度  | 不支持                    | 支持 Alpha 通道透明度（半透明）          | 支持单色透明度（全透或不透）           | 支持                        |
| 动画支持 | 不支持                    | 不支持                          | 支持                       | 支持（多页格式）                  |
| 主要优点 | 文件小，适合照片和渐变色彩，兼容性极佳。   | 支持无损压缩和半透明，适合图形、Logo、截图。     | 文件小，支持动画和简单透明，适合简单图形和动图。 | 图像质量极高，可保存图层等编辑信息，专业印刷首选。 |
| 主要缺点 | 压缩有损失，反复编辑会降低质量，不支持透明。 | 文件通常比JPEG大，不适合摄影照片存储。        | 颜色有限，不适合照片或渐变色彩。         | 文件非常大，网络支持差，浏览器通常不直接显示。   |
| 典型用途 | 数码照片、网页图片、需要小文件的场景。    | Logo、图标、网页图形、需要透明背景的图像、屏幕截图。 | 简单动画（表情包、广告条）、颜色单一的图形。   | 专业摄影、出版印刷、扫描存档、医学影像。      |

## JPEG （Joint Photographic Experts Group）
### 介绍
| 英文全名                             | 中文名     | 扩展名        | 方式   |
| -------------------------------- | ------- | ---------- | ---- |
| Joint Photographic Experts Group | 联合图像专家组 | .jpg或.jpeg | 有损压缩 |
JPEG是用于连续色调静态图像压缩的一种标准，文件后缀名为.jpg或.jpeg，是最常用的图像文件格式。其主要是采用预测编码（DPCM）、离散余弦变换（DCT）以及熵编码的联合编码方式，以去除冗余的图像和彩色数据，属于有损压缩格式，它能够将图像压缩在很小的储存空间，一定程度上会造成图像数据的损伤。尤其是使用过高的压缩比例，将使最终解压缩后恢复的图像质量降低，如果追求高品质图像，则不宜采用过高的压缩比例。 

JPEG可以用有损压缩方式去除冗余的图像数据，用较少的磁盘空间得到较好的图像品质。而且JPEG是一种很灵活的格式，具有调节图像质量的功能，它允许用不同的压缩比例对文件进行压缩，支持多种压缩级别，压缩比率通常在10:1到40:1，压缩比越大，图像品质就越低；相反地，压缩比越小，图像品质就越高。同一幅图像，用JPEG格式存储的文件是其他类型文件的1/10~1/20，通常只有几十KB，质量损失较小，基本无法看出。JPEG格式压缩的主要是高频信息，对色彩的信息保留较好，适合应用于互联网；它可减少图像的传输时间，支持24位真彩色；也普遍应用于需要连续色调的图像中。

JPEG格式可分为标准JPEG、渐进式JPEG及JPEG2000三种格式。 
1. 标准JPEG格式；此类型在网页下载时只能由上而下依序显示图像，直到图像资料全部下载完毕，才能看到图像全貌。
2. 渐进式JPEG；此类型在网页下载时，先呈现出图像的粗略外观后，再慢慢地呈现出完整的内容，而且存成渐进式JPG格式的文档比存成标准JPG格式的文档要来得小，所以如果要在网页上使用图像，可以多用这种格式。
3. JPEG2000；它是新一代的影像压缩法，压缩品质更高，并可改善在无线传输时，常因信号不稳造成马赛克现象及位置错乱的情况，改善传输的品质。
### 文件结构
```text
SOI标记(FFD8) → APPn段(元数据) → DQT(量化表) → SOF0(帧开始) → DHT(霍夫曼表) → SOS(扫描开始) → 压缩数据流 → EOI标记(FFD9)
```
关键段结构：
- EXIF数据：存储在APP1段，包含相机参数、GPS信息
- 量化表：2个表（亮度和色度各一个），每个表64个值
- 霍夫曼表：4个表（DC/AC各2个），用于熵编码
- 扫描数据：按MCU（最小编码单元）存储的熵编码位流

### 性能


### 优缺点
#### JPEG的优点
- 它支持极高的压缩率，因此JPEG图像的下载速度大大加快；
- 它能够轻松地处理16.8M颜色，可以很好地再现全彩色的图像；
- 在对图像的压缩处理过程中，该图像格式可以允许自由地在最小文件尺寸（最低图像质量）和最大文件尺寸（最高图像质量）之间选择；
- 该格式的文件尺寸相对较小，下载速度快，有利于在带宽并不高的情况下传输。

#### JPEG的缺点
- JPEG是一种静态图像格式，不支持动画。对于需要动画效果的图像，需要使用其他格式，如GIF或WebP；
- 压缩时，可能使图像的质量受到损失，因此不适宜用该格式来显示高清晰度的图像。
## PNG（Portable Network Graphics）
### 介绍
| 英文全名                      | 中文名     | 扩展名  | 方式          |
| ------------------------- | ------- | ---- | ----------- |
| Portable Network Graphics | 便携式网络图形 | .png | 无损压缩的位图片形格式 |
PNG是一种采用无损压缩算法的位图格式，支持索引、灰度、RGB三种颜色方案以及Alpha通道等特性。 其设计目的是试图替代GIF和TIFF文件格式，同时增加一些GIF文件格式所不具备的特性。PNG使用从LZ77派生的无损数据压缩算法，一般应用于JAVA程序、网页或S60程序中，原因是它压缩比高，生成文件体积小。

 PNG现行版本是国际标准（ISO/IEC 15948:2003），并在2003年11月10日作为W3C建议发布。这个版本与1.2版仅有细微差别。

*注：2025年6月24日，W3C PNG工作组发布便携式网络图形（PNG）规范第三版正式推荐标准。第三版正式加入了动态PNG（APNG）和高动态范围（HDR）PNG功能*

### 文件结构
```text
PNG签名(8字节) → IHDR(图像头) → 可选块 → IDAT(图像数据) → IEND(结束)
```
关键块结构：
1. IHDR块（必需）
	```text
	宽度(4字节) | 高度(4字节) | 位深度(1字节) | 色彩类型(1字节) | 压缩方法(1字节) | 过滤方法(1字节) | 隔行扫描方法(1字节)
	```
2. PLTE块（调色板）
    - 仅用于索引色彩模式
    - 最多256个RGB三元组
    - 可选的透明度信息（tRNS块）
3. IDAT块（图像数据）
    - 压缩的像素数据流
    - 可分割为多个IDAT块
    - 按扫描行组织，每行有前置过滤器类型

### 性能

### 优缺点
#### PNG的优点

#### PNG的缺点

## GIF（Graphics Interchange Format）
### 介绍
| 英文全名                        | 中文名    | 扩展名  | 方式  |
| --------------------------- | ------ | ---- | --- |
| Graphics Interchange Format | 图像互换格式 | .gif | 位图  |
GIF是在1987年由Compu Serve公司为了填补跨平台图像格式的空白而发展起来的。GIF可以被PC和Macintosh等多种平台上被支持。

GIF是一种位图。位图的大致原理是：图片由许多的像素组成，每一个像素都被指定了一种颜色，这些像素综合起来就构成了图片。GIF采用的是Lempel-Zev-Welch（LZW）压缩算法，最高支持256种颜色。由于这种特性，GIF比较适用于色彩较少的图片，比如卡通造型、公司标志等等。如果碰到需要用真彩色的场合，那么GIF的表现力就有限了。GIF通常会自带一个调色板，里面存放需要用到的各种颜色。在Web运用中，图像的文件量的大小将会明显地影响到下载的速度，因此我们可以根据GIF带调色板的特性来优化调色板，减少图像使用的颜色数（有些图像用不到的颜色可以舍去），而不影响到图片的质量。

GIF格式和其他图像格式的最大区别在于，它完全是作为一种公用标准而设计的，由于Compu Serve网络的流行，许多平台都支持GIF格式。Compu Serve通过免费发行格式说明书推广GIF，但要求使用GIF文件格式的软件要包含其版权信息的说明。
### 文件结构
```text
头部(6字节) → 逻辑屏幕描述符 → 全局调色板 → [图像块/扩展块]* → 文件终止符(3B)
```
关键块结构：
1. GIF头部："GIF87a"或"GIF89a"标识
2. 逻辑屏幕描述符：
	```text
	宽度(2B) | 高度(2B) | Packed字段 | 背景色索引(1B) | 像素宽高比(1B)
	```
3. 图像描述块：
    ```text
    图像分隔符(0x2C) | 左位置(2B) | 顶位置(2B) | 宽度(2B) | 高度(2B) | Packed字段
    ```
4. 图形控制扩展（GCE）：
	```text
	扩展引入符(0x21) | 标签(0xF9) | 块大小(4) | Packed字段 | 延迟时间(2B) | 透明色索引(1B) | 块终止符(0)
	```

### 性能

### 优缺点
#### GIF的优点

#### GIF的缺点
## TIFF（Tagged Image File Format）
### 介绍
| 英文全名                     | 中文名      | 扩展名  | 方式            |
| ------------------------ | -------- | ---- | ----------- |
| Tagged Image File Format | 标签图像文件格式 | .t   一种灵活的位图格式 的位图格式 |
标签图像文件格式（Tag Image File Format，TIFF）是一种灵活的位图格式，主要用来存储包括照片和艺术图在内的图像，最初由Aldus公司与微软公司一起为PostScript打印开发。TIFF与JPEG和PNG一起成为流行的高位彩色图像格式。TIFF格式在业界得到了广泛的支持，如Adobe公司的Photoshop、The GIMP Team的GIMP、Ulead PhotoImpact和Paint Shop Pro等图像处理应用、QuarkXPress和Adobe InDesign这样的桌面印刷和页面排版应用，扫描、传真、文字处理、光学字符识别和其它一些应用等都支持这种格式。从Aldus获得了PageMaker印刷应用程序的Adobe公司控制着TIFF规范。

TIFF最初的设计目的是为了1980年代中期桌面扫描仪厂商达成一个公用的统一的扫描图像文件格式，而不是每个厂商使用自己专有的格式。在刚开始的时候， TIFF只是一个二值图像格式，因为当时的桌面扫描仪只能处理这种格式，随着扫描仪的功能越来越强大，并且计算机的磁盘空间越来越大，TIFF逐渐支持灰阶图像和彩色图像。

TIFF的图像格式很复杂，但由于它对图像信息的存放灵活多变，可以支持很多色彩系统，而且独立于操作系统，因此得到了广泛应用。在各种地理信息系统、摄影测量与遥感等应用中，要求图像具有地理编码信息，例如图像所在的坐标系、比例尺、图像上点的坐标、经纬度、长度单位及角度单位等等。 

### 文件结构
```text
字节序标记(2B) → 版本号(42)(2B) → 第一个IFD偏移(4B) → IFD1 → 图像数据1 → IFD2 → 图像数据2 → ...
```
关键块结构：
- IFD详细结构
  ```text
目录项数量(2B) → [标签(2B) | 类型(2B) | 计数(4B) | 值/偏移(4B)]* → 下一个IFD偏移(4B)```

### 核心标签系统

1. **基本图像参数标签**
    

c

ImageWidth(256)          // 图像宽度
ImageLength(257)         // 图像高度
BitsPerSample(258)       // 每样本位数
Compression(259)         // 压缩方案
PhotometricInterpretation(262) // 色彩空间

2. **高级特性标签**
    

c

StripOffsets(273)        // 数据条偏移
RowsPerStrip(278)        // 每条行数
SamplesPerPixel(277)     // 每像素样本数
XResolution(282)         // 水平分辨率
YResolution(283)         // 垂直分辨率

### 性能

### 优缺点
#### TIFF的优点

#### TIFF的缺点