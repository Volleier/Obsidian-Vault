# 单应性与图像配准（实践要点）

本节关注如何在实践中估计单应性矩阵并保持鲁棒性。理论与详解请参见专题：[拟合与鲁棒估计（最小二乘法与 RANSAC）](BFDG-拟合与鲁棒估计.md)

实践流程要点：

1. **数据准备**：先进行关键点检测与描述子匹配，使用 Lowe ratio 或其他方法过滤明显错误匹配。
2. **归一化 DLT（最小二乘的几何形式）**：在计算单应性/透视矩阵前，对像素坐标做归一化（平移 + 缩放到均值 0、方差 √2），以提高数值稳定性。
3. **RANSAC 抗外点**：在归一化后的最小样本上运行 RANSAC（重投影误差为内点判定），保存内点并在内点上用最小二乘精修。
4. **后处理**：对内点进行迭代精修、剔除边界点并再估计（可用 LO-RANSAC 局部优化）。

实用提示：选择合适的重投影阈值与使用浮点矩阵运算能显著提高结果质量。
