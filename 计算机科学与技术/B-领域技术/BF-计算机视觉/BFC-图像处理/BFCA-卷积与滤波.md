# 介绍
**卷积是实现滤波的主要数学工具，而滤波是卷积运算在信号/图像处理中的一个核心应用目标。**
## 卷积
**卷积（Convolution）**在计算机视觉里通常可以理解为：用一个小的权重模板（卷积核）在图像上滑动，对局部邻域做“乘积求和”，生成新的图像（或特征图）。

从更一般的数学视角看，卷积是一类将两个函数/序列组合成第三个函数/序列的运算；在信号与图像处理中，它对应“系统的冲激响应”与“输入信号”的组合方式，是很多经典滤波器的基础。

卷积在许多领域有重要引用，在本章笔记中，卷积多为在计算机视觉中的卷积。而具体到计算机视觉中的卷积，可以理解为一种“滑动加权求和”或“用一个小函数去扫描另一个函数/信号/图像”。
- 你有一个输入信号/图像 $x$（原始数据）
- 你有一个核/卷积核 $h$（一组权重、模板、掩模）
- 把 $h$ 在 $x$ 上平移，每到一个位置就把“重叠部分相乘再相加”，得到输出 $y$

卷积核 $h$ 描述了你希望从输入中提取什么：
- “平均一下”→ 平滑/去噪（低通）
- “算差分”→ 边缘/细节（高通）
- “强调中心抑制周围”→ 锐化

### 数学定义
#### 连续形式
对连续时间/连续空间信号：

$$
(x*h)(t) = \int_{-\infty}^{+\infty} x(\tau)\,h(t-\tau)\,d\tau
$$

关键点：$h(t-\tau)$ 表示“先把核翻转，再平移到 $t$”。

#### 离散形式
对离散序列 $x[n]$ 与核 $h[n]$：

$$
(x*h)[n] = \sum_{k=-\infty}^{+\infty} x[k]\,h[n-k]
$$

如果 $h$ 只有有限长度，求和就只在核的支持范围内进行。

#### 离散 2D

图像可以看作 2D 离散信号 $I[i,j]$。使用 2D 卷积核 $K[u,v]$ 时：

$$
(I*K)[i,j] = \sum_u\sum_v I[i-u,\,j-v]\,K[u,v]
$$

在实现时常写成“在像素邻域做乘加”。同样注意：严格的卷积包含核的翻转；许多视觉/深度学习框架实现的“卷积层”实际做的是互相关（Correlation，见后文），但大家习惯上仍称为 convolution。


## 滤波
**滤波（Filtering）**是为了抑制或增强图像中的某些成分（如噪声、边缘、纹理），从而达到去噪、增强、检测等目的的一类处理。

常见目标：
- 去噪：压低随机噪声，保留结构（平滑滤波）
- 提取边缘：强调强梯度位置（边缘检测）
- 锐化：增强细节与纹理
- 特征增强/抑制：例如去除条纹、去除背景趋势、强调特定方向纹理

### 滤波的分类
#### 线性 vs 非线性
- 线性滤波：输出是输入的线性组合。典型就是“用一个核做卷积”。
- 非线性滤波：输出不是线性组合，例如中值滤波（Median）、双边滤波（Bilateral）、形态学（腐蚀/膨胀）等。

#### 空域 vs 频域
- 空域滤波：直接在像素邻域对灰度/颜色做运算（卷积、排序、形态学）。
- 频域滤波：把信号变换到频域（如傅里叶变换），在频域乘上某个频率响应，再变换回来。

#### 低通 vs 高通
- 低通（Low-pass）：保留低频，抑制高频 → 平滑、去噪，但会变“糊”。
- 高通（High-pass）：保留高频，抑制低频 → 强调边缘与细节，但也会放大噪声。

## 卷积与滤波的关系
在信号/图像处理中：
- **滤波是目的**
- **卷积是实现许多线性滤波的主要工具**

为什么卷积能“表示滤波”
对“线性且平移不变（Linear Shift-Invariant, LSI）”的系统/算子，有一个非常重要的结论：
- 系统完全由它的“单位冲激响应”决定
- 任何输入的输出，都等于输入与该冲激响应的卷积

也就是说：
- 把滤波器（线性、平移不变）看成一个系统 $H$
- 用一个核 $h$ 表示它对“冲激”的响应
- 那么对任意输入 $x$，输出 $y$ 就是 $y=x*h$

在图像里，$h$ 就是卷积核（模板/掩模）。