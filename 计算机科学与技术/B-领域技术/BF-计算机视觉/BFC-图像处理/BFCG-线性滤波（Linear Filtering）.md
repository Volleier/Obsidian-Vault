# 线性滤波（Linear Filtering）

这篇笔记对应“线性滤波”这一讲的主线：

- 滤波动机：去噪（邻域加权平均）
- 实现核心：卷积
- 工程细节：输出尺寸、padding/边界条件
- 典型滤波器：平滑与锐化

如果你更关心噪声与去噪方法的选择、以及锐化作为增强的应用，请看 [[BFCC-去噪与增强]]。

---

## 一、图像表示基础

### 1）二值图像（Binary Image）

- 每个像素只有两种取值：0/1（或黑/白）
- 常用于前景/背景掩码、形态学等

### 2）灰度图像（Grayscale Image）

- 单通道强度值：$I(x,y)$
- 常见位深：8-bit（0~255），也可能是 16-bit 或浮点

### 3）彩色图像（Color Image）

- 多通道：最常见是 RGB（三通道）
- 可视为张量 $I(x,y,c)$，其中 $c\in\{R,G,B\}$
- 线性滤波常见做法：对每个通道分别滤波

---

## 二、滤波动机：图像去噪

把每个像素替换为其邻域的加权平均：

- 权重由滤波器（卷积核）决定
- 平滑类核常用于抑制高频噪声，但会带来一定“模糊”

写成卷积形式：

$$I' = I * K$$

---

## 三、线性滤波与卷积

在线性滤波语境下，卷积是最常用的空域实现方式。

- 卷积的严格定义、以及卷积与互相关的差别：见 [[BFCA-卷积与滤波]]

---

## 四、实现细节：输出尺寸与边界处理

### 1）输出尺寸：full / same / valid

先写 1D，2D 对高和宽分别套用。

设输入长度为 $N$，核长度为 $K$：

- valid（不填充）：$N_{out}=N-K+1$
- full（完全卷积）：$N_{out}=N+K-1$
- same（输出同长）：常通过 padding 实现，$K$ 为奇数且 stride=1 时常取 $p=\lfloor K/2\rfloor$

含 stride 与 padding 的通用形式：

$$
N_{out}=\left\lfloor\frac{N + 2p - K}{s}\right\rfloor + 1
$$

### 2）边界处理（padding/边界条件）

当卷积窗口超出图像边界时，常见处理：

- 补零（黑边）
- 循环填充（wrap）
- 复制边缘像素（replicate/clamp）
- 镜像反射（reflect/mirror）

不同策略会显著影响边缘附近的输出。

---

## 五、常见线性滤波器（概览）

- 平滑：均值滤波、高斯滤波（细节见 [[BFCC-去噪与增强]]；与尺度空间见 [[BFCF-尺度空间与图像金字塔]]）
- 锐化：非锐化掩模、拉普拉斯锐化（细节见 [[BFCC-去噪与增强]]）
- 边缘：Sobel、梯度/拉普拉斯等（见 [[BFCD-边缘检测与梯度算子]]）

---

## 参见

- [[BFCA-卷积与滤波]]：卷积定义与卷积/滤波关系
- [[BFCB-频域分析（傅里叶）]]：频域视角与卷积定理
